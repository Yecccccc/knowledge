# HTTP

## http常见状态码

- 1xx：提示信息，协议处理的中间状态
- 2xx：服务器成功处理了客户端请求

​	200 OK：最常见的成功状态码

​	204 No Content：常见的成功状态码，响应头没有body数据

​	206 Partial Content：应用于HTTP分块下载或断点续传，表示相应返回的Body数据不是资源的全部

- 3xx：客户端请求的资源发生了变动，需要客户端用新的URL

​	301 Moved Permanently：永久重定向，请求的资源已经不存在了，需要用新的URL访问

​	302 Found：临时重定向，请求的资源还在，暂时需要用新的URL访问

​	301和302都会在响应头里使用字段location，指明需要跳转的URL，浏览器会自动重定向

​	304 Not Modified：不具有跳转的含义，表示资源未修改，重定向已存在的缓冲文件，也称缓存重定向，也就是告诉客户端可以继续使用缓存资源，用于缓存控制

- 4xx：客户端发送报文有误

  400 bad request：客户端请求报文有错误

  403 fobidden：服务器禁止访问资源

  404 Not Found：请求的资源在服务器不存在或者未找到

- 5xx：客户端请求报文正确，服务器处理时发生了错误

  500 Internal Server Error：与400类型一样，是一个笼统的错误代码

  501 Not Implemented：表示客户端请求的功能还不支持

  502 Bad Gateway：服务器作为网关或者代理时返回的错误代码

  503 Service Unavailable：服务器当前正忙，暂时无法响应客户端

  504 Gateway timeout：服务器作为网关或者代理，没有及时从上游服务器收到请求

## http常见字段

1. Host:客户端发送请求时，用来指定服务器的域名
2. Content-Length:本次数据长度(http通过设置\r\n和Content-Length都是为了解决粘包问题)
3. Connection字段:最常用于客户端要求服务器使用长连接
4. Content-Type:用于服务器回应时，告诉客户端，本次数据是什么格式
5. Content-Encoding:说明数据的压缩方法,表示服务器返回的数据使用了什么压缩格式

## get和post

1.  get是从服务器获取指定资源,post是根据报文body对指定的资源做出处理
2. GET 方法就是安全且幂等的(只读),post是不安全的,不是幂等的.
3. 可以对get请求的数据做缓存,缓存可以放到浏览器上,也可以放到代理上,在浏览器中get请求可以保存为书签
4. 浏览器一般不会缓存 POST 请求，也不能把 POST 请求保存为书签

**面试题: 使用post请求删除服务器资源和使用delete删除服务器资源有什么区别?**

- 使用POST请求资源实际上并未立即从服务器中删除，而是将其标记为已删除状态.
- 使用DELETE请求直接从服务器中永久删除资源

## http缓存技术

强制缓存和协商缓存

1. 强制缓存

   强缓存指的是只要浏览器判断缓存没有过期，则直接使用浏览器的本地缓存

   cache-control(相对时间),  expires(绝对时间)两个字段实现,cache-control的优先级更高

   cache-control流程如下:

   - 浏览器第一次请求服务器资源时,服务器返回资源并且在response加上cache-control设置国企时间大小
   - 浏览器再次访问服务器资源时,先通过请求资源时间与cache-control设置的过期时间比较,判断是否过期.没有过期,使用缓存.过期则重新请求
   - 服务器再次收到请求后,会再次更新response头部的cache-control

2. 协商缓存
